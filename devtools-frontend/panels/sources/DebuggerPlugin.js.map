{"version":3,"file":"DebuggerPlugin.js","sourceRoot":"","sources":["../../../../../../front_end/panels/sources/DebuggerPlugin.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as ObjectUI from '../../ui/legacy/components/object_ui/object_ui.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\n\nimport type * as TextEditor from '../../ui/legacy/components/text_editor/text_editor.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {AddSourceMapURLDialog} from './AddSourceMapURLDialog.js';\nimport {BreakpointEditDialog, LogpointPrefix} from './BreakpointEditDialog.js';\nimport {Plugin} from './Plugin.js';\nimport {ScriptFormatterEditorAction} from './ScriptFormatterEditorAction.js';\nimport {resolveExpression, resolveScopeInObject} from './SourceMapNamesResolver.js';\nimport {SourcesPanel} from './SourcesPanel.js';\nimport {getRegisteredEditorActions} from './SourcesView.js';\n\nconst UIStrings = {\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  thisScriptIsOnTheDebuggersIgnore: 'This script is on the debugger\\'s ignore list',\n  /**\n  *@description Text to stop preventing the debugger from stepping into library code\n  */\n  removeFromIgnoreList: 'Remove from ignore list',\n  /**\n  *@description Text of a button in the Sources panel Debugger Plugin to configure ignore listing in Settings\n  */\n  configure: 'Configure',\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  sourceMapFoundButIgnoredForFile: 'Source map found, but ignored for file on ignore list.',\n  /**\n  *@description Text to add a breakpoint\n  */\n  addBreakpoint: 'Add breakpoint',\n  /**\n  *@description A context menu item in the Debugger Plugin of the Sources panel\n  */\n  addConditionalBreakpoint: 'Add conditional breakpoint',\n  /**\n  *@description A context menu item in the Debugger Plugin of the Sources panel\n  */\n  addLogpoint: 'Add logpoint',\n  /**\n  *@description A context menu item in the Debugger Plugin of the Sources panel\n  */\n  neverPauseHere: 'Never pause here',\n  /**\n  *@description Context menu command to delete/remove a breakpoint that the user\n  *has set. One line of code can have multiple breakpoints. Always >= 1 breakpoint.\n  */\n  removeBreakpoint: '{n, plural, =1 {Remove breakpoint} other {Remove all breakpoints in line}}',\n  /**\n  *@description A context menu item in the Debugger Plugin of the Sources panel\n  */\n  editBreakpoint: 'Edit breakpoint',\n  /**\n  *@description Context menu command to disable (but not delete) a breakpoint\n  *that the user has set. One line of code can have multiple breakpoints. Always\n  *>= 1 breakpoint.\n  */\n  disableBreakpoint: '{n, plural, =1 {Disable breakpoint} other {Disable all breakpoints in line}}',\n  /**\n  *@description Context menu command to enable a breakpoint that the user has\n  *set. One line of code can have multiple breakpoints. Always >= 1 breakpoint.\n  */\n  enableBreakpoint: '{n, plural, =1 {Enable breakpoint} other {Enable all breakpoints in line}}',\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  addSourceMap: 'Add source map',\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  sourceMapDetected: 'Source map detected.',\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  prettyprintThisMinifiedFile: 'Pretty-print this minified file?',\n  /**\n  *@description Label of a button in the Sources panel to pretty-print the current file\n  */\n  prettyprint: 'Pretty-print',\n  /**\n  *@description Text in Debugger Plugin pretty-print details message of the Sources panel\n  *@example {Debug} PH1\n  */\n  prettyprintingWillFormatThisFile:\n      'Pretty-printing will format this file in a new tab where you can continue debugging. You can also pretty-print this file by clicking the {PH1} button on the bottom status bar.',\n  /**\n  *@description Title of the Filtered List WidgetProvider of Quick Open\n  *@example {Ctrl+P Ctrl+O} PH1\n  */\n  associatedFilesAreAvailable: 'Associated files are available via file tree or {PH1}.',\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  associatedFilesShouldBeAdded:\n      'Associated files should be added to the file tree. You can debug these resolved source files as regular JavaScript files.',\n  /**\n  *@description Text in Debugger Plugin of the Sources panel\n  */\n  theDebuggerWillSkipStepping: 'The debugger will skip stepping through this script, and will not stop on exceptions.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/DebuggerPlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n// eslint-disable-next-line no-unused-vars\nclass DecoratorWidget extends HTMLDivElement {\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  nameToToken!: Map<string, HTMLElement>;\n  constructor() {\n    super();\n  }\n}\n\nexport class DebuggerPlugin extends Plugin {\n  private textEditor: SourceFrame.SourcesTextEditor.SourcesTextEditor;\n  private uiSourceCode: Workspace.UISourceCode.UISourceCode;\n  private readonly transformer: SourceFrame.SourceFrame.Transformer;\n  private executionLocation: Workspace.UISourceCode.UILocation|null;\n  private controlDown: boolean;\n  private asyncStepInHoveredLine: number|null;\n  private asyncStepInHovered: boolean;\n  private clearValueWidgetsTimer: number|null;\n  private sourceMapInfobar: UI.Infobar.Infobar|null;\n  private controlTimeout: number|null;\n  private readonly scriptsPanel: SourcesPanel;\n  private readonly breakpointManager: Bindings.BreakpointManager.BreakpointManager;\n  private readonly popoverHelper: UI.PopoverHelper.PopoverHelper;\n  private readonly boundPopoverHelperHide: () => void;\n  private readonly boundKeyDown: (arg0: Event) => void;\n  private readonly boundKeyUp: (arg0: Event) => void;\n  private readonly boundMouseMove: (arg0: Event) => void;\n  private readonly boundMouseDown: (arg0: Event) => void;\n  private readonly boundBlur: (arg0: Event) => void;\n  private readonly boundWheel: (arg0: Event) => void;\n  private readonly boundGutterClick:\n      (arg0: Common.EventTarget.EventTargetEvent<SourceFrame.SourcesTextEditor.GutterClickEventData>) => void;\n  private readonly breakpointDecorations: Set<BreakpointDecoration>;\n  private readonly decorationByBreakpoint:\n      Map<Bindings.BreakpointManager.Breakpoint, Map<string, BreakpointDecoration>>;\n  private readonly possibleBreakpointsRequested: Set<number>;\n  private scriptFileForDebuggerModel:\n      Map<SDK.DebuggerModel.DebuggerModel, Bindings.ResourceScriptMapping.ResourceScriptFile>;\n  private readonly valueWidgets: Map<number, DecoratorWidget>;\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private continueToLocationDecorations: Map<any, Function>|null;\n  private readonly liveLocationPool: Bindings.LiveLocation.LiveLocationPool;\n  private muted: boolean;\n  private mutedFromStart: boolean;\n  private ignoreListInfobar: UI.Infobar.Infobar|null;\n  private hasLineWithoutMapping: boolean;\n  private prettyPrintInfobar!: UI.Infobar.Infobar|null;\n  private scheduledBreakpointDecorationUpdates?: Set<BreakpointDecoration>|null;\n\n  constructor(\n      textEditor: SourceFrame.SourcesTextEditor.SourcesTextEditor, uiSourceCode: Workspace.UISourceCode.UISourceCode,\n      transformer: SourceFrame.SourceFrame.Transformer) {\n    super();\n    this.textEditor = textEditor;\n    this.uiSourceCode = uiSourceCode;\n    this.transformer = transformer;\n\n    this.executionLocation = null;\n    this.controlDown = false;\n    this.asyncStepInHoveredLine = 0;\n    this.asyncStepInHovered = false;\n    this.clearValueWidgetsTimer = null;\n    this.sourceMapInfobar = null;\n    this.controlTimeout = null;\n\n    this.scriptsPanel = SourcesPanel.instance();\n    this.breakpointManager = Bindings.BreakpointManager.BreakpointManager.instance();\n    if (uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Debugger) {\n      this.textEditor.element.classList.add('source-frame-debugger-script');\n    }\n\n    this.popoverHelper =\n        new UI.PopoverHelper.PopoverHelper(this.scriptsPanel.element, this.getPopoverRequest.bind(this));\n    this.popoverHelper.setDisableOnClick(true);\n    this.popoverHelper.setTimeout(250, 250);\n    this.popoverHelper.setHasPadding(true);\n    this.boundPopoverHelperHide = this.popoverHelper.hidePopover.bind(this.popoverHelper);\n    this.scriptsPanel.element.addEventListener('scroll', this.boundPopoverHelperHide, true);\n\n    const shortcutHandlers = {\n      'debugger.toggle-breakpoint': async(): Promise<boolean> => {\n        const selection = this.textEditor.selection();\n        if (!selection) {\n          return false;\n        }\n        await this.toggleBreakpoint(selection.startLine, false);\n        return true;\n      },\n      'debugger.toggle-breakpoint-enabled': async(): Promise<boolean> => {\n        const selection = this.textEditor.selection();\n        if (!selection) {\n          return false;\n        }\n        await this.toggleBreakpoint(selection.startLine, true);\n        return true;\n      },\n      'debugger.breakpoint-input-window': async(): Promise<boolean> => {\n        const selection = this.textEditor.selection();\n        if (!selection) {\n          return false;\n        }\n        const breakpoints = this.lineBreakpointDecorations(selection.startLine)\n                                .map(decoration => decoration.breakpoint)\n                                .filter(breakpoint => Boolean(breakpoint));\n        let breakpoint: (Bindings.BreakpointManager.Breakpoint|null)|null = null;\n        if (breakpoints.length) {\n          breakpoint = breakpoints[0];\n        }\n        const isLogpoint = breakpoint ? breakpoint.condition().includes(LogpointPrefix) : false;\n        this.editBreakpointCondition(selection.startLine, breakpoint, null, isLogpoint);\n        return true;\n      },\n    };\n    UI.ShortcutRegistry.ShortcutRegistry.instance().addShortcutListener(this.textEditor.element, shortcutHandlers);\n    this.boundKeyDown = (this.onKeyDown.bind(this) as (arg0: Event) => void);\n    this.textEditor.element.addEventListener('keydown', this.boundKeyDown, true);\n    this.boundKeyUp = (this.onKeyUp.bind(this) as (arg0: Event) => void);\n    this.textEditor.element.addEventListener('keyup', this.boundKeyUp, true);\n    this.boundMouseMove = (this.onMouseMove.bind(this) as (arg0: Event) => void);\n    this.textEditor.element.addEventListener('mousemove', this.boundMouseMove, false);\n    this.boundMouseDown = (this.onMouseDown.bind(this) as (arg0: Event) => void);\n    this.textEditor.element.addEventListener('mousedown', this.boundMouseDown, true);\n    this.boundBlur = (this.onBlur.bind(this) as (arg0: Event) => void);\n    this.textEditor.element.addEventListener('focusout', this.boundBlur, false);\n    this.boundWheel = (this.onWheel.bind(this) as (arg0: Event) => void);\n    this.textEditor.element.addEventListener('wheel', this.boundWheel, true);\n    this.boundGutterClick =\n        (e: Common.EventTarget.EventTargetEvent<SourceFrame.SourcesTextEditor.GutterClickEventData>): void => {\n          this.handleGutterClick(e);\n        };\n\n    this.textEditor.addEventListener(SourceFrame.SourcesTextEditor.Events.GutterClick, this.boundGutterClick, this);\n\n    this.breakpointManager.addEventListener(\n        Bindings.BreakpointManager.Events.BreakpointAdded, this.breakpointAdded, this);\n    this.breakpointManager.addEventListener(\n        Bindings.BreakpointManager.Events.BreakpointRemoved, this.breakpointRemoved, this);\n\n    this.uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, this.workingCopyChanged, this);\n    this.uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this.workingCopyCommitted, this);\n\n    this.breakpointDecorations = new Set();\n    this.decorationByBreakpoint = new Map();\n    this.possibleBreakpointsRequested = new Set();\n\n    this.scriptFileForDebuggerModel = new Map();\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipStackFramesPattern')\n        .addChangeListener(this.showIgnoreListInfobarIfNeeded, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipContentScripts')\n        .addChangeListener(this.showIgnoreListInfobarIfNeeded, this);\n\n    this.valueWidgets = new Map();\n    this.continueToLocationDecorations = null;\n\n    UI.Context.Context.instance().addFlavorChangeListener(SDK.DebuggerModel.CallFrame, this.callFrameChanged, this);\n    this.liveLocationPool = new Bindings.LiveLocation.LiveLocationPool();\n    this.callFrameChanged();\n\n    this.updateScriptFiles();\n\n    if (this.uiSourceCode.isDirty()) {\n      this.muted = true;\n      this.mutedFromStart = true;\n    } else {\n      this.muted = false;\n      this.mutedFromStart = false;\n      this.initializeBreakpoints();\n    }\n\n    this.ignoreListInfobar = null;\n    this.showIgnoreListInfobarIfNeeded();\n\n    for (const scriptFile of this.scriptFileForDebuggerModel.values()) {\n      scriptFile.checkMapping();\n    }\n\n    this.hasLineWithoutMapping = false;\n    this.updateLinesWithoutMappingHighlight();\n    if (!Root.Runtime.experiments.isEnabled('sourcesPrettyPrint')) {\n      this.prettyPrintInfobar = null;\n      this.detectMinified();\n    }\n  }\n\n  static accepts(uiSourceCode: Workspace.UISourceCode.UISourceCode): boolean {\n    return uiSourceCode.contentType().hasScripts();\n  }\n\n  private showIgnoreListInfobarIfNeeded(): void {\n    const uiSourceCode = this.uiSourceCode;\n    if (!uiSourceCode.contentType().hasScripts()) {\n      return;\n    }\n    const projectType = uiSourceCode.project().type();\n    if (!Bindings.IgnoreListManager.IgnoreListManager.instance().isIgnoreListedUISourceCode(uiSourceCode)) {\n      this.hideIgnoreListInfobar();\n      return;\n    }\n\n    if (this.ignoreListInfobar) {\n      this.ignoreListInfobar.dispose();\n    }\n\n    function unIgnoreList(): void {\n      Bindings.IgnoreListManager.IgnoreListManager.instance().unIgnoreListUISourceCode(uiSourceCode);\n      if (projectType === Workspace.Workspace.projectTypes.ContentScripts) {\n        Bindings.IgnoreListManager.IgnoreListManager.instance().unIgnoreListContentScripts();\n      }\n    }\n\n    const infobar =\n        new UI.Infobar.Infobar(UI.Infobar.Type.Warning, i18nString(UIStrings.thisScriptIsOnTheDebuggersIgnore), [\n          {text: i18nString(UIStrings.removeFromIgnoreList), highlight: false, delegate: unIgnoreList, dismiss: true},\n          {\n            text: i18nString(UIStrings.configure),\n            highlight: false,\n            delegate:\n                UI.ViewManager.ViewManager.instance().showView.bind(UI.ViewManager.ViewManager.instance(), 'blackbox'),\n            dismiss: false,\n          },\n        ]);\n    this.ignoreListInfobar = infobar;\n\n    infobar.createDetailsRowMessage(i18nString(UIStrings.theDebuggerWillSkipStepping));\n\n    const scriptFile =\n        this.scriptFileForDebuggerModel.size ? this.scriptFileForDebuggerModel.values().next().value : null;\n    if (scriptFile && scriptFile.hasSourceMapURL()) {\n      infobar.createDetailsRowMessage(i18nString(UIStrings.sourceMapFoundButIgnoredForFile));\n    }\n    this.textEditor.attachInfobar(this.ignoreListInfobar);\n  }\n\n  private hideIgnoreListInfobar(): void {\n    if (!this.ignoreListInfobar) {\n      return;\n    }\n    this.ignoreListInfobar.dispose();\n    this.ignoreListInfobar = null;\n  }\n\n  wasShown(): void {\n    if (this.executionLocation) {\n      // We need SourcesTextEditor to be initialized prior to this call. @see crbug.com/499889\n      queueMicrotask(() => {\n        this.generateValuesInSource();\n      });\n    }\n  }\n\n  willHide(): void {\n    this.popoverHelper.hidePopover();\n  }\n\n  async populateLineGutterContextMenu(contextMenu: UI.ContextMenu.ContextMenu, editorLineNumber: number):\n      Promise<void> {\n    const uiLocation = new Workspace.UISourceCode.UILocation(this.uiSourceCode, editorLineNumber, 0);\n    this.scriptsPanel.appendUILocationItems(contextMenu, uiLocation);\n    const breakpoints =\n        (this.lineBreakpointDecorations(editorLineNumber)\n             .map(decoration => decoration.breakpoint)\n             .filter(breakpoint => Boolean(breakpoint)) as Bindings.BreakpointManager.Breakpoint[]);\n    const supportsConditionalBreakpoints =\n        Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().supportsConditionalBreakpoints(\n            this.uiSourceCode);\n    if (!breakpoints.length) {\n      if (!this.textEditor.hasLineClass(editorLineNumber, 'cm-non-breakable-line')) {\n        contextMenu.debugSection().appendItem(\n            i18nString(UIStrings.addBreakpoint), this.createNewBreakpoint.bind(this, editorLineNumber, '', true));\n        if (supportsConditionalBreakpoints) {\n          contextMenu.debugSection().appendItem(\n              i18nString(UIStrings.addConditionalBreakpoint),\n              this.editBreakpointCondition.bind(this, editorLineNumber, null, null, false /* preferLogpoint */));\n          contextMenu.debugSection().appendItem(\n              i18nString(UIStrings.addLogpoint),\n              this.editBreakpointCondition.bind(this, editorLineNumber, null, null, true /* preferLogpoint */));\n          contextMenu.debugSection().appendItem(\n              i18nString(UIStrings.neverPauseHere),\n              this.createNewBreakpoint.bind(this, editorLineNumber, 'false', true));\n        }\n      }\n    } else {\n      const removeTitle = i18nString(UIStrings.removeBreakpoint, {n: breakpoints.length});\n      contextMenu.debugSection().appendItem(removeTitle, () => breakpoints.map(breakpoint => breakpoint.remove(false)));\n      if (breakpoints.length === 1 && supportsConditionalBreakpoints) {\n        // Editing breakpoints only make sense for conditional breakpoints\n        // and logpoints and both are currently only available for JavaScript\n        // debugging.\n        contextMenu.debugSection().appendItem(\n            i18nString(UIStrings.editBreakpoint),\n            this.editBreakpointCondition.bind(\n                this, editorLineNumber, breakpoints[0], null, false /* preferLogpoint */));\n      }\n      const hasEnabled = breakpoints.some(breakpoint => breakpoint.enabled());\n      if (hasEnabled) {\n        const title = i18nString(UIStrings.disableBreakpoint, {n: breakpoints.length});\n        contextMenu.debugSection().appendItem(title, () => breakpoints.map(breakpoint => breakpoint.setEnabled(false)));\n      }\n      const hasDisabled = breakpoints.some(breakpoint => !breakpoint.enabled());\n      if (hasDisabled) {\n        const title = i18nString(UIStrings.enableBreakpoint, {n: breakpoints.length});\n        contextMenu.debugSection().appendItem(title, () => breakpoints.map(breakpoint => breakpoint.setEnabled(true)));\n      }\n    }\n  }\n\n  populateTextAreaContextMenu(\n      contextMenu: UI.ContextMenu.ContextMenu, editorLineNumber: number, editorColumnNumber: number): Promise<void> {\n    function addSourceMapURL(scriptFile: Bindings.ResourceScriptMapping.ResourceScriptFile): void {\n      const dialog = new AddSourceMapURLDialog(addSourceMapURLDialogCallback.bind(null, scriptFile));\n      dialog.show();\n    }\n\n    function addSourceMapURLDialogCallback(\n        scriptFile: Bindings.ResourceScriptMapping.ResourceScriptFile, url: string): void {\n      if (!url) {\n        return;\n      }\n      scriptFile.addSourceMapURL(url);\n    }\n\n    function populateSourceMapMembers(this: DebuggerPlugin): void {\n      if (this.uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Network &&\n          Common.Settings.Settings.instance().moduleSetting('jsSourceMapsEnabled').get() &&\n          !Bindings.IgnoreListManager.IgnoreListManager.instance().isIgnoreListedUISourceCode(this.uiSourceCode)) {\n        if (this.scriptFileForDebuggerModel.size) {\n          const scriptFile = this.scriptFileForDebuggerModel.values().next().value;\n          const addSourceMapURLLabel = i18nString(UIStrings.addSourceMap);\n          contextMenu.debugSection().appendItem(addSourceMapURLLabel, addSourceMapURL.bind(null, scriptFile));\n        }\n      }\n    }\n\n    return super.populateTextAreaContextMenu(contextMenu, editorLineNumber, editorColumnNumber)\n        .then(populateSourceMapMembers.bind(this));\n  }\n\n  private workingCopyChanged(): void {\n    if (this.scriptFileForDebuggerModel.size) {\n      return;\n    }\n\n    if (this.uiSourceCode.isDirty()) {\n      this.muteBreakpointsWhileEditing();\n    } else {\n      this.restoreBreakpointsAfterEditing();\n    }\n  }\n\n  private workingCopyCommitted(): void {\n    this.scriptsPanel.updateLastModificationTime();\n    if (!this.scriptFileForDebuggerModel.size) {\n      this.restoreBreakpointsAfterEditing();\n    }\n  }\n\n  private didMergeToVM(): void {\n    this.restoreBreakpointsIfConsistentScripts();\n  }\n\n  private didDivergeFromVM(): void {\n    this.muteBreakpointsWhileEditing();\n  }\n\n  private muteBreakpointsWhileEditing(): void {\n    if (this.muted) {\n      return;\n    }\n    for (const decoration of this.breakpointDecorations) {\n      this.updateBreakpointDecoration(decoration);\n    }\n    this.muted = true;\n  }\n\n  private async restoreBreakpointsIfConsistentScripts(): Promise<void> {\n    for (const scriptFile of this.scriptFileForDebuggerModel.values()) {\n      if (scriptFile.hasDivergedFromVM() || scriptFile.isMergingToVM()) {\n        return;\n      }\n    }\n\n    await this.restoreBreakpointsAfterEditing();\n  }\n\n  private async restoreBreakpointsAfterEditing(): Promise<void> {\n    this.muted = false;\n    if (this.mutedFromStart) {\n      this.mutedFromStart = false;\n      this.initializeBreakpoints();\n      return;\n    }\n    const decorations = Array.from(this.breakpointDecorations);\n    this.breakpointDecorations.clear();\n    this.textEditor.operation(() => decorations.map(decoration => decoration.hide()));\n    for (const decoration of decorations) {\n      if (!decoration.breakpoint) {\n        continue;\n      }\n      const enabled = decoration.enabled;\n      decoration.breakpoint.remove(false);\n      const location = decoration.handle.resolve();\n      if (location) {\n        await this.setBreakpoint(location.lineNumber, location.columnNumber, decoration.condition, enabled);\n      }\n    }\n  }\n\n  private isIdentifier(tokenType: string): boolean {\n    return tokenType.startsWith('js-variable') || tokenType.startsWith('js-property') || tokenType === 'js-def' ||\n        tokenType === 'variable';\n  }\n\n  private getPopoverRequest(event: MouseEvent): UI.PopoverHelper.PopoverRequest|null {\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n      return null;\n    }\n    const target = UI.Context.Context.instance().flavor(SDK.Target.Target);\n    const debuggerModel = target ? target.model(SDK.DebuggerModel.DebuggerModel) : null;\n    if (!debuggerModel || !debuggerModel.isPaused()) {\n      return null;\n    }\n\n    const textPosition = this.textEditor.coordinatesToCursorPosition(event.x, event.y);\n    if (!textPosition) {\n      return null;\n    }\n\n    const mouseLine = textPosition.startLine;\n    const mouseColumn = textPosition.startColumn;\n    const textSelection = this.textEditor.selection().normalize();\n    let editorLineNumber = -1;\n    let startHighlight = -1;\n    let endHighlight = -1;\n\n    const selectedCallFrame =\n        (UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame) as SDK.DebuggerModel.CallFrame);\n    if (!selectedCallFrame) {\n      return null;\n    }\n\n    if (textSelection && !textSelection.isEmpty()) {\n      if (textSelection.startLine !== textSelection.endLine || textSelection.startLine !== mouseLine ||\n          mouseColumn < textSelection.startColumn || mouseColumn > textSelection.endColumn) {\n        return null;\n      }\n      editorLineNumber = textSelection.startLine;\n      startHighlight = textSelection.startColumn;\n      endHighlight = textSelection.endColumn - 1;\n    } else if (this.uiSourceCode.mimeType() === 'application/wasm') {\n      const token = this.textEditor.tokenAtTextPosition(textPosition.startLine, textPosition.startColumn);\n      if (!token || token.type !== 'variable-2') {\n        return null;\n      }\n      editorLineNumber = textPosition.startLine;\n      startHighlight = token.startColumn;\n      endHighlight = token.endColumn - 1;\n\n      // For $label identifiers we can't show a meaningful preview (https://crbug.com/1155548),\n      // so we suppress them for now. Label identifiers can only appear as operands to control\n      // instructions[1], so we just check the first token on the line and filter them out.\n      //\n      // [1]: https://webassembly.github.io/spec/core/text/instructions.html#control-instructions\n      for (let firstColumn = 0; firstColumn < startHighlight; ++firstColumn) {\n        const firstToken = this.textEditor.tokenAtTextPosition(editorLineNumber, firstColumn);\n        if (firstToken && firstToken.type === 'keyword') {\n          const line = this.textEditor.line(editorLineNumber);\n          switch (line.substring(firstToken.startColumn, firstToken.endColumn)) {\n            case 'block':\n            case 'loop':\n            case 'if':\n            case 'else':\n            case 'end':\n            case 'br':\n            case 'br_if':\n            case 'br_table':\n              return null;\n            default:\n              break;\n          }\n          break;\n        }\n      }\n    } else {\n      let token = this.textEditor.tokenAtTextPosition(textPosition.startLine, textPosition.startColumn);\n      if (!token) {\n        return null;\n      }\n      editorLineNumber = textPosition.startLine;\n      const line = this.textEditor.line(editorLineNumber);\n      let tokenContent = line.substring(token.startColumn, token.endColumn);\n\n      // When the user hovers an opening bracket, we look for the closing bracket\n      // and kick off the matching from that below.\n      if (tokenContent === '[') {\n        const closingColumn = line.indexOf(']', token.startColumn);\n        if (closingColumn < 0) {\n          return null;\n        }\n        token = this.textEditor.tokenAtTextPosition(editorLineNumber, closingColumn);\n        if (!token) {\n          return null;\n        }\n        tokenContent = line.substring(token.startColumn, token.endColumn);\n      }\n      startHighlight = token.startColumn;\n      endHighlight = token.endColumn - 1;\n\n      // Consume multiple `[index][0]...[f(1)]` at the end of the expression.\n      while (tokenContent === ']') {\n        startHighlight = line.lastIndexOf('[', startHighlight) - 1;\n        if (startHighlight < 0) {\n          return null;\n        }\n        token = this.textEditor.tokenAtTextPosition(editorLineNumber, startHighlight);\n        if (!token) {\n          return null;\n        }\n        tokenContent = line.substring(token.startColumn, token.endColumn);\n        startHighlight = token.startColumn;\n      }\n\n      if (!token.type) {\n        return null;\n      }\n      const isIdentifier = this.isIdentifier(token.type);\n      if (!isIdentifier && (token.type !== 'js-keyword' || tokenContent !== 'this')) {\n        return null;\n      }\n\n      while (startHighlight > 1 && line.charAt(startHighlight - 1) === '.') {\n        // Consume multiple `[index][0]...[f(1)]` preceeding a dot.\n        while (line.charAt(startHighlight - 2) === ']') {\n          startHighlight = line.lastIndexOf('[', startHighlight - 2) - 1;\n          if (startHighlight < 0) {\n            return null;\n          }\n        }\n        const tokenBefore = this.textEditor.tokenAtTextPosition(editorLineNumber, startHighlight - 2);\n        if (!tokenBefore || !tokenBefore.type) {\n          return null;\n        }\n        if (tokenBefore.type === 'js-meta') {\n          break;\n        }\n        if (tokenBefore.type === 'js-string-2') {\n          // If we hit a template literal, find the opening ` in this line.\n          // TODO(bmeurer): We should eventually replace this tokenization\n          // approach with a proper soluation based on parsing, maybe reusing\n          // the Parser and AST inside V8 for this (or potentially relying on\n          // acorn to do the job).\n          if (tokenBefore.endColumn < 2) {\n            return null;\n          }\n          startHighlight = line.lastIndexOf('`', tokenBefore.endColumn - 2);\n          if (startHighlight < 0) {\n            return null;\n          }\n          break;\n        }\n        startHighlight = tokenBefore.startColumn;\n      }\n    }\n\n    const leftCorner =\n        (this.textEditor.cursorPositionToCoordinates(editorLineNumber, startHighlight) as\n         TextEditor.CodeMirrorTextEditor.Coordinates);\n    const rightCorner =\n        (this.textEditor.cursorPositionToCoordinates(editorLineNumber, endHighlight) as\n         TextEditor.CodeMirrorTextEditor.Coordinates);\n    const box = new AnchorBox(leftCorner.x, leftCorner.y, rightCorner.x - leftCorner.x, leftCorner.height);\n\n    let objectPopoverHelper: ObjectUI.ObjectPopoverHelper.ObjectPopoverHelper|null = null;\n    let highlightDescriptor: CodeMirror.TextMarker|null = null;\n\n    async function evaluate(uiSourceCode: Workspace.UISourceCode.UISourceCode, evaluationText: string): Promise<{\n      object: SDK.RemoteObject.RemoteObject,\n      exceptionDetails?: Protocol.Runtime.ExceptionDetails,\n    }|{\n      error: string,\n    }|null> {\n      const resolvedText = await resolveExpression(\n          selectedCallFrame, evaluationText, uiSourceCode, editorLineNumber, startHighlight, endHighlight);\n      return await selectedCallFrame.evaluate({\n        expression: resolvedText || evaluationText,\n        objectGroup: 'popover',\n        includeCommandLineAPI: false,\n        silent: true,\n        returnByValue: false,\n        generatePreview: false,\n        throwOnSideEffect: undefined,\n        timeout: undefined,\n        disableBreaks: undefined,\n        replMode: undefined,\n        allowUnsafeEvalBlockedByCSP: undefined,\n      });\n    }\n\n    return {\n      box,\n      show: async(popover: UI.GlassPane.GlassPane): Promise<boolean> => {\n        const evaluationText = this.textEditor.line(editorLineNumber).substring(startHighlight, endHighlight + 1);\n        const result = await evaluate(this.uiSourceCode, evaluationText);\n\n        if (!result || 'error' in result || !result.object ||\n            (result.object.type === 'object' && result.object.subtype === 'error')) {\n          return false;\n        }\n        objectPopoverHelper =\n            await ObjectUI.ObjectPopoverHelper.ObjectPopoverHelper.buildObjectPopover(result.object, popover);\n        const potentiallyUpdatedCallFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!objectPopoverHelper || selectedCallFrame !== potentiallyUpdatedCallFrame) {\n          debuggerModel.runtimeModel().releaseObjectGroup('popover');\n          if (objectPopoverHelper) {\n            objectPopoverHelper.dispose();\n          }\n          return false;\n        }\n        const highlightRange =\n            new TextUtils.TextRange.TextRange(editorLineNumber, startHighlight, editorLineNumber, endHighlight);\n        highlightDescriptor = this.textEditor.highlightRange(highlightRange, 'source-frame-eval-expression');\n        return true;\n      },\n      hide: (): void => {\n        if (objectPopoverHelper) {\n          objectPopoverHelper.dispose();\n        }\n        debuggerModel.runtimeModel().releaseObjectGroup('popover');\n        if (highlightDescriptor) {\n          this.textEditor.removeHighlight(highlightDescriptor);\n        }\n      },\n    };\n  }\n\n  private onWheel(event: WheelEvent): void {\n    if (this.executionLocation && UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n      event.preventDefault();\n    }\n  }\n\n  private onKeyDown(event: KeyboardEvent): void {\n    if (!event.ctrlKey || (!event.metaKey && Host.Platform.isMac())) {\n      this.clearControlDown();\n    }\n\n    if (event.key === Platform.KeyboardUtilities.ESCAPE_KEY) {\n      if (this.popoverHelper.isPopoverVisible()) {\n        this.popoverHelper.hidePopover();\n        event.consume();\n      }\n      return;\n    }\n\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event) && this.executionLocation) {\n      this.controlDown = true;\n      if (event.key === (Host.Platform.isMac() ? 'Meta' : 'Control')) {\n        this.controlTimeout = window.setTimeout(() => {\n          if (this.executionLocation && this.controlDown) {\n            this.showContinueToLocations();\n          }\n        }, 150);\n      }\n    }\n  }\n\n  private onMouseMove(event: MouseEvent): void {\n    if (this.executionLocation && this.controlDown &&\n        UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n      if (!this.continueToLocationDecorations) {\n        this.showContinueToLocations();\n      }\n    }\n    if (this.continueToLocationDecorations) {\n      const target = (event.target as Element);\n      const textPosition = this.textEditor.coordinatesToCursorPosition(event.x, event.y);\n      const hovering = Boolean(target.enclosingNodeOrSelfWithClass('source-frame-async-step-in'));\n      this.setAsyncStepInHoveredLine(textPosition ? textPosition.startLine : null, hovering);\n    }\n  }\n\n  private setAsyncStepInHoveredLine(editorLineNumber: number|null, hovered: boolean): void {\n    if (this.asyncStepInHoveredLine === editorLineNumber && this.asyncStepInHovered === hovered) {\n      return;\n    }\n    if (this.asyncStepInHovered && this.asyncStepInHoveredLine) {\n      this.textEditor.toggleLineClass(this.asyncStepInHoveredLine, 'source-frame-async-step-in-hovered', false);\n    }\n    this.asyncStepInHoveredLine = editorLineNumber;\n    this.asyncStepInHovered = hovered;\n    if (this.asyncStepInHovered && this.asyncStepInHoveredLine) {\n      this.textEditor.toggleLineClass(this.asyncStepInHoveredLine, 'source-frame-async-step-in-hovered', true);\n    }\n  }\n\n  private onMouseDown(event: MouseEvent): void {\n    if (!this.executionLocation || !UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n      return;\n    }\n    if (!this.continueToLocationDecorations) {\n      return;\n    }\n    event.consume();\n    const textPosition = this.textEditor.coordinatesToCursorPosition(event.x, event.y);\n    if (!textPosition) {\n      return;\n    }\n    for (const decoration of this.continueToLocationDecorations.keys()) {\n      const range = decoration.find();\n      if (!range) {\n        continue;\n      }\n      if (range.from.line !== textPosition.startLine || range.to.line !== textPosition.startLine) {\n        continue;\n      }\n      if (range.from.ch <= textPosition.startColumn && textPosition.startColumn <= range.to.ch) {\n        const callback = this.continueToLocationDecorations.get(decoration);\n        if (!callback) {\n          throw new Error('Expected a function');\n        }\n        callback();\n        break;\n      }\n    }\n  }\n\n  private onBlur(_event: Event): void {\n    this.clearControlDown();\n  }\n\n  private onKeyUp(_event: KeyboardEvent): void {\n    this.clearControlDown();\n  }\n\n  private clearControlDown(): void {\n    this.controlDown = false;\n    this.clearContinueToLocations();\n    if (this.controlTimeout) {\n      clearTimeout(this.controlTimeout);\n    }\n  }\n\n  private async editBreakpointCondition(\n      editorLineNumber: number, breakpoint: Bindings.BreakpointManager.Breakpoint|null, location: {\n        lineNumber: number,\n        columnNumber: number,\n      }|null,\n      preferLogpoint?: boolean): Promise<void> {\n    const oldCondition = breakpoint ? breakpoint.condition() : '';\n    const decorationElement = document.createElement('div');\n    const dialog =\n        await BreakpointEditDialog.create(editorLineNumber, oldCondition, Boolean(preferLogpoint), async result => {\n          dialog.detach();\n          this.textEditor.removeDecoration(decorationElement, editorLineNumber);\n          if (!result.committed) {\n            return;\n          }\n          if (breakpoint) {\n            breakpoint.setCondition(result.condition);\n          } else if (location) {\n            await this.setBreakpoint(location.lineNumber, location.columnNumber, result.condition, true);\n          } else {\n            await this.createNewBreakpoint(editorLineNumber, result.condition, true);\n          }\n        });\n    this.textEditor.addDecoration(decorationElement, editorLineNumber);\n    dialog.markAsExternallyManaged();\n    dialog.show(decorationElement);\n    dialog.focusEditor();\n  }\n\n  private async executionLineChanged(liveLocation: Bindings.LiveLocation.LiveLocation): Promise<void> {\n    this.clearExecutionLine();\n    const uiLocation = await liveLocation.uiLocation();\n    if (!uiLocation || uiLocation.uiSourceCode.url() !== this.uiSourceCode.url()) {\n      this.executionLocation = null;\n      return;\n    }\n\n    this.executionLocation = uiLocation;\n    const editorLocation = this.transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n    this.textEditor.setExecutionLocation(editorLocation.lineNumber, editorLocation.columnNumber);\n    if (this.textEditor.isShowing()) {\n      // We need SourcesTextEditor to be initialized prior to this call. @see crbug.com/506566\n      queueMicrotask(() => {\n        if (this.controlDown) {\n          this.showContinueToLocations();\n        } else {\n          this.generateValuesInSource();\n        }\n      });\n    }\n  }\n\n  private generateValuesInSource(): void {\n    if (!Common.Settings.Settings.instance().moduleSetting('inlineVariableValues').get()) {\n      return;\n    }\n    const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n    if (!executionContext) {\n      return;\n    }\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    if (!callFrame) {\n      return;\n    }\n\n    const localScope = callFrame.localScope();\n    const functionLocation = callFrame.functionLocation();\n    if (localScope && functionLocation) {\n      resolveScopeInObject(localScope)\n          .getAllProperties(false, false)\n          .then(this.prepareScopeVariables.bind(this, callFrame));\n    }\n  }\n\n  private showContinueToLocations(): void {\n    this.popoverHelper.hidePopover();\n    const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n    if (!executionContext) {\n      return;\n    }\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    if (!callFrame) {\n      return;\n    }\n    const start = callFrame.functionLocation() || callFrame.location();\n    const debuggerModel = callFrame.debuggerModel;\n    debuggerModel.getPossibleBreakpoints(start, null, true)\n        .then(locations => this.textEditor.operation(renderLocations.bind(this, locations)));\n\n    function renderLocations(this: DebuggerPlugin, locations: SDK.DebuggerModel.BreakLocation[]): void {\n      this.clearContinueToLocationsNoRestore();\n      this.textEditor.hideExecutionLineBackground();\n      this.continueToLocationDecorations = new Map();\n      locations = locations.reverse();\n      let previousCallLine = -1;\n      for (const location of locations) {\n        const editorLocation = this.transformer.uiLocationToEditorLocation(location.lineNumber, location.columnNumber);\n        const tokenThatIsPossiblyNull =\n            this.textEditor.tokenAtTextPosition(editorLocation.lineNumber, editorLocation.columnNumber);\n        if (!tokenThatIsPossiblyNull) {\n          continue;\n        }\n        let token: TextEditor.CodeMirrorTextEditor.Token =\n            (tokenThatIsPossiblyNull as TextEditor.CodeMirrorTextEditor.Token);\n\n        const line = this.textEditor.line(editorLocation.lineNumber);\n        let tokenContent = line.substring(token.startColumn, token.endColumn);\n        if (!token.type && tokenContent === '.') {\n          const nextToken = this.textEditor.tokenAtTextPosition(editorLocation.lineNumber, token.endColumn + 1);\n          if (!nextToken) {\n            throw new Error('nextToken should not be null.');\n          }\n          token = nextToken;\n          tokenContent = line.substring(token.startColumn, token.endColumn);\n        }\n        if (!token.type) {\n          continue;\n        }\n        const validKeyword = token.type === 'js-keyword' &&\n            (tokenContent === 'this' || tokenContent === 'return' || tokenContent === 'new' ||\n             tokenContent === 'continue' || tokenContent === 'break');\n        if (!validKeyword && !this.isIdentifier(token.type)) {\n          continue;\n        }\n        if (previousCallLine === editorLocation.lineNumber &&\n            location.type !== Protocol.Debugger.BreakLocationType.Call) {\n          continue;\n        }\n\n        let highlightRange: TextUtils.TextRange.TextRange = new TextUtils.TextRange.TextRange(\n            editorLocation.lineNumber, token.startColumn, editorLocation.lineNumber, token.endColumn - 1);\n        let decoration = this.textEditor.highlightRange(highlightRange, 'source-frame-continue-to-location');\n        this.continueToLocationDecorations.set(decoration, location.continueToLocation.bind(location));\n        if (location.type === Protocol.Debugger.BreakLocationType.Call) {\n          previousCallLine = editorLocation.lineNumber;\n        }\n\n        let isAsyncCall: boolean = (line[token.startColumn - 1] === '.' && tokenContent === 'then') ||\n            tokenContent === 'setTimeout' || tokenContent === 'setInterval' || tokenContent === 'postMessage';\n        if (tokenContent === 'new') {\n          const nextToken = this.textEditor.tokenAtTextPosition(editorLocation.lineNumber, token.endColumn + 1);\n          if (!nextToken) {\n            throw new Error('nextToken should not be null.');\n          }\n          token = nextToken;\n          tokenContent = line.substring(token.startColumn, token.endColumn);\n          isAsyncCall = tokenContent === 'Worker';\n        }\n        const isCurrentPosition = this.executionLocation && location.lineNumber === this.executionLocation.lineNumber &&\n            location.columnNumber === this.executionLocation.columnNumber;\n        if (location.type === Protocol.Debugger.BreakLocationType.Call && isAsyncCall) {\n          const asyncStepInRange =\n              this.findAsyncStepInRange(this.textEditor, editorLocation.lineNumber, line, token.endColumn);\n          if (asyncStepInRange) {\n            highlightRange = new TextUtils.TextRange.TextRange(\n                editorLocation.lineNumber, asyncStepInRange.from, editorLocation.lineNumber, asyncStepInRange.to - 1);\n            decoration = this.textEditor.highlightRange(highlightRange, 'source-frame-async-step-in');\n            this.continueToLocationDecorations.set(\n                decoration, this.asyncStepIn.bind(this, location, Boolean(isCurrentPosition)));\n          }\n        }\n      }\n\n      this.continueToLocationRenderedForTest();\n    }\n  }\n\n  private continueToLocationRenderedForTest(): void {\n  }\n\n  private findAsyncStepInRange(\n      textEditor: SourceFrame.SourcesTextEditor.SourcesTextEditor, editorLineNumber: number, line: string,\n      column: number): {\n    from: number,\n    to: number,\n  }|null {\n    let token: (TextEditor.CodeMirrorTextEditor.Token|null)|null = null;\n    let tokenText;\n    let from: number = column;\n    let to: number = line.length;\n\n    let position = line.indexOf('(', column);\n    const argumentsStart = position;\n    if (position === -1) {\n      return null;\n    }\n    position++;\n\n    skipWhitespace();\n    if (position >= line.length) {\n      return null;\n    }\n\n    token = nextToken();\n    if (!token) {\n      return null;\n    }\n    from = token.startColumn;\n\n    if (token.type === 'js-keyword' && tokenText === 'async') {\n      skipWhitespace();\n      if (position >= line.length) {\n        return {from: from, to: to};\n      }\n      token = nextToken();\n      if (!token) {\n        return {from: from, to: to};\n      }\n    }\n\n    if (token.type === 'js-keyword' && tokenText === 'function') {\n      return {from: from, to: to};\n    }\n\n    if (token.type === 'js-string') {\n      return {from: argumentsStart, to: to};\n    }\n\n    if (token.type && this.isIdentifier(token.type)) {\n      return {from: from, to: to};\n    }\n\n    if (tokenText !== '(') {\n      return null;\n    }\n    const closeParen = line.indexOf(')', position);\n    if (closeParen === -1 || line.substring(position, closeParen).indexOf('(') !== -1) {\n      return {from: from, to: to};\n    }\n    return {from: from, to: closeParen + 1};\n\n    function nextToken(): TextEditor.CodeMirrorTextEditor.Token|null {\n      token = textEditor.tokenAtTextPosition(editorLineNumber, position);\n      if (token) {\n        position = token.endColumn;\n        to = token.endColumn;\n        tokenText = line.substring(token.startColumn, token.endColumn);\n      }\n\n      return token;\n    }\n\n    function skipWhitespace(): void {\n      while (position < line.length) {\n        if (line[position] === ' ') {\n          position++;\n          continue;\n        }\n        const token = textEditor.tokenAtTextPosition(editorLineNumber, position);\n        if (!token) {\n          throw new Error('expected token to not be null');\n        }\n        if (token.type === 'js-comment') {\n          position = token.endColumn;\n          continue;\n        }\n        break;\n      }\n    }\n  }\n\n  private asyncStepIn(location: SDK.DebuggerModel.BreakLocation, isCurrentPosition: boolean): void {\n    if (!isCurrentPosition) {\n      location.continueToLocation(asyncStepIn);\n    } else {\n      asyncStepIn();\n    }\n\n    function asyncStepIn(): void {\n      location.debuggerModel.scheduleStepIntoAsync();\n    }\n  }\n\n  private async prepareScopeVariables(\n      callFrame: SDK.DebuggerModel.CallFrame, allProperties: SDK.RemoteObject.GetPropertiesResult): Promise<void> {\n    const properties = allProperties.properties;\n    this.clearValueWidgets();\n    if (!properties || !properties.length || properties.length > 500 || !this.textEditor.isShowing()) {\n      return;\n    }\n\n    const functionUILocationPromise =\n        Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(\n            (callFrame.functionLocation() as SDK.DebuggerModel.Location));\n    const executionUILocationPromise =\n        Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(\n            callFrame.location());\n    const [functionUILocation, executionUILocation] =\n        await Promise.all([functionUILocationPromise, executionUILocationPromise]);\n    if (!functionUILocation || !executionUILocation ||\n        functionUILocation.uiSourceCode.url() !== this.uiSourceCode.url() ||\n        executionUILocation.uiSourceCode.url() !== this.uiSourceCode.url()) {\n      return;\n    }\n\n    const functionEditorLocation =\n        this.transformer.uiLocationToEditorLocation(functionUILocation.lineNumber, functionUILocation.columnNumber);\n    const executionEditorLocation =\n        this.transformer.uiLocationToEditorLocation(executionUILocation.lineNumber, executionUILocation.columnNumber);\n    const fromLine = functionEditorLocation.lineNumber;\n    const fromColumn = functionEditorLocation.columnNumber;\n    const toLine = executionEditorLocation.lineNumber;\n    if (fromLine >= toLine || toLine - fromLine > 500 || fromLine < 0 || toLine >= this.textEditor.linesCount) {\n      return;\n    }\n\n    const valuesMap = new Map<string, SDK.RemoteObject.RemoteObject|null|undefined>();\n    for (const property of properties) {\n      valuesMap.set(property.name, property.value);\n    }\n\n    const namesPerLine = new Map<number, Set<string>>();\n    let skipObjectProperty = false;\n    const tokenizer = TextUtils.CodeMirrorUtils.TokenizerFactory.instance().createTokenizer('text/javascript');\n    tokenizer(this.textEditor.line(fromLine).substring(fromColumn), processToken.bind(this, fromLine));\n    for (let i = fromLine + 1; i < toLine; ++i) {\n      tokenizer(this.textEditor.line(i), processToken.bind(this, i));\n    }\n\n    function processToken(\n        this: DebuggerPlugin, editorLineNumber: number, tokenValue: string, tokenType: string|null, _column: number,\n        _newColumn: number): void {\n      if (!skipObjectProperty && tokenType && this.isIdentifier(tokenType) && valuesMap.get(tokenValue)) {\n        let names = namesPerLine.get(editorLineNumber);\n        if (!names) {\n          names = new Set();\n          namesPerLine.set(editorLineNumber, names);\n        }\n        names.add(tokenValue);\n      }\n      skipObjectProperty = tokenValue === '.';\n    }\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n    // @ts-expect-error\n    this.textEditor.operation(this.renderDecorations.bind(this, valuesMap, namesPerLine, fromLine, toLine));\n  }\n\n  private renderDecorations(\n      valuesMap: Map<string, SDK.RemoteObject.RemoteObject>, namesPerLine: Map<number, Set<string>>, fromLine: number,\n      toLine: number): void {\n    const formatter = new ObjectUI.RemoteObjectPreviewFormatter.RemoteObjectPreviewFormatter();\n    for (let i = fromLine; i < toLine; ++i) {\n      const names = namesPerLine.get(i);\n      const oldWidget = this.valueWidgets.get(i);\n      if (!names) {\n        if (oldWidget) {\n          this.valueWidgets.delete(i);\n          this.textEditor.removeDecoration(oldWidget, i);\n        }\n        continue;\n      }\n\n      const widget = (document.createElement('div') as DecoratorWidget);\n      widget.classList.add('text-editor-value-decoration');\n      const base = this.textEditor.cursorPositionToCoordinates(i, 0);\n      if (!base) {\n        throw new Error('base is expected to not be null');\n      }\n      const offset = this.textEditor.cursorPositionToCoordinates(i, this.textEditor.line(i).length);\n      if (!offset) {\n        throw new Error('offset is expected to not be null');\n      }\n      const codeMirrorLinesLeftPadding = 4;\n      const left = offset.x - base.x + codeMirrorLinesLeftPadding;\n      widget.style.left = left + 'px';\n      widget.nameToToken = new Map();\n\n      let renderedNameCount = 0;\n      for (const name of names) {\n        if (renderedNameCount > 10) {\n          break;\n        }\n        const names = namesPerLine.get(i - 1);\n        if (names && names.has(name)) {\n          continue;\n        }  // Only render name once in the given continuous block.\n        if (renderedNameCount) {\n          UI.UIUtils.createTextChild(widget, ', ');\n        }\n        const nameValuePair = (widget.createChild('span') as HTMLElement);\n        widget.nameToToken.set(name, nameValuePair);\n        UI.UIUtils.createTextChild(nameValuePair, name + ' = ');\n        const value = valuesMap.get(name);\n        if (!value) {\n          throw new Error('value is expected to be null');\n        }\n        const propertyCount = value.preview ? value.preview.properties.length : 0;\n        const entryCount = value.preview && value.preview.entries ? value.preview.entries.length : 0;\n        if (value.preview && propertyCount + entryCount < 10) {\n          formatter.appendObjectPreview(nameValuePair, value.preview, false /* isEntry */);\n        } else {\n          const propertyValue = ObjectUI.ObjectPropertiesSection.ObjectPropertiesSection.createPropertyValue(\n              value, /* wasThrown */ false, /* showPreview */ false);\n          nameValuePair.appendChild(propertyValue.element);\n        }\n        ++renderedNameCount;\n      }\n\n      let widgetChanged = true;\n      if (oldWidget) {\n        widgetChanged = false;\n        for (const name of widget.nameToToken.keys()) {\n          const oldTextElement = oldWidget.nameToToken.get(name);\n          const newTextElement = widget.nameToToken.get(name);\n          const oldText = oldTextElement ? oldTextElement.textContent : '';\n          const newText = newTextElement ? newTextElement.textContent : '';\n          if (newText !== oldText) {\n            widgetChanged = true;\n            UI.UIUtils.runCSSAnimationOnce(\n                (widget.nameToToken.get(name) as Element), 'source-frame-value-update-highlight');\n          }\n        }\n        if (widgetChanged) {\n          this.valueWidgets.delete(i);\n          this.textEditor.removeDecoration(oldWidget, i);\n        }\n      }\n      if (widgetChanged) {\n        this.valueWidgets.set(i, widget);\n        this.textEditor.addDecoration(widget, i);\n      }\n    }\n  }\n\n  private clearExecutionLine(): void {\n    this.textEditor.operation(() => {\n      if (this.executionLocation) {\n        this.textEditor.clearExecutionLine();\n      }\n      this.executionLocation = null;\n      if (this.clearValueWidgetsTimer) {\n        clearTimeout(this.clearValueWidgetsTimer);\n        this.clearValueWidgetsTimer = null;\n      }\n      this.clearValueWidgetsTimer = window.setTimeout(this.clearValueWidgets.bind(this), 1000);\n      this.clearContinueToLocationsNoRestore();\n    });\n  }\n\n  private clearValueWidgets(): void {\n    if (this.clearValueWidgetsTimer) {\n      clearTimeout(this.clearValueWidgetsTimer);\n    }\n    this.clearValueWidgetsTimer = null;\n    this.textEditor.operation(() => {\n      for (const line of this.valueWidgets.keys()) {\n        const valueWidget = this.valueWidgets.get(line);\n        if (valueWidget) {\n          this.textEditor.removeDecoration(valueWidget, line);\n        }\n      }\n      this.valueWidgets.clear();\n    });\n  }\n\n  private clearContinueToLocationsNoRestore(): void {\n    const continueToLocationDecorations = this.continueToLocationDecorations;\n    if (!continueToLocationDecorations) {\n      return;\n    }\n    this.textEditor.operation(() => {\n      for (const decoration of continueToLocationDecorations.keys()) {\n        this.textEditor.removeHighlight(decoration);\n      }\n      this.continueToLocationDecorations = null;\n      this.setAsyncStepInHoveredLine(null, false);\n    });\n  }\n\n  private clearContinueToLocations(): void {\n    if (!this.continueToLocationDecorations) {\n      return;\n    }\n    this.textEditor.operation(() => {\n      this.textEditor.showExecutionLineBackground();\n      this.generateValuesInSource();\n      this.clearContinueToLocationsNoRestore();\n    });\n  }\n\n  private lineBreakpointDecorations(lineNumber: number): BreakpointDecoration[] {\n    return Array.from(this.breakpointDecorations)\n        .filter(decoration => (decoration.handle.resolve() || {}).lineNumber === lineNumber);\n  }\n\n  private breakpointDecoration(editorLineNumber: number, editorColumnNumber: number): BreakpointDecoration|null {\n    for (const decoration of this.breakpointDecorations) {\n      const location = decoration.handle.resolve();\n      if (!location) {\n        continue;\n      }\n      if (location.lineNumber === editorLineNumber && location.columnNumber === editorColumnNumber) {\n        return decoration;\n      }\n    }\n    return null;\n  }\n\n  private updateBreakpointDecoration(decoration: BreakpointDecoration): void {\n    if (!this.scheduledBreakpointDecorationUpdates) {\n      this.scheduledBreakpointDecorationUpdates = new Set();\n      queueMicrotask(() => {\n        this.textEditor.operation(update.bind(this));\n      });\n    }\n    this.scheduledBreakpointDecorationUpdates.add(decoration);\n\n    function update(this: DebuggerPlugin): void {\n      if (!this.scheduledBreakpointDecorationUpdates) {\n        return;\n      }\n      const editorLineNumbers = new Set<number>();\n      for (const decoration of this.scheduledBreakpointDecorationUpdates) {\n        const location = decoration.handle.resolve();\n        if (!location) {\n          continue;\n        }\n        editorLineNumbers.add(location.lineNumber);\n      }\n      this.scheduledBreakpointDecorationUpdates = null;\n      let waitingForInlineDecorations = false;\n      for (const lineNumber of editorLineNumbers) {\n        const decorations = this.lineBreakpointDecorations(lineNumber);\n        updateGutter.call(this, lineNumber, decorations);\n        if (this.possibleBreakpointsRequested.has(lineNumber)) {\n          waitingForInlineDecorations = true;\n          continue;\n        }\n        updateInlineDecorations.call(this, lineNumber, decorations);\n      }\n      if (!waitingForInlineDecorations) {\n        this.breakpointDecorationsUpdatedForTest();\n      }\n    }\n\n    function updateGutter(this: DebuggerPlugin, editorLineNumber: number, decorations: BreakpointDecoration[]): void {\n      this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint', false);\n      this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-disabled', false);\n      this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-unbound', false);\n      this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-conditional', false);\n      this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-logpoint', false);\n\n      if (decorations.length) {\n        decorations.sort(BreakpointDecoration.mostSpecificFirst);\n        const isDisabled = !decorations[0].enabled || this.muted;\n        const isLogpoint = decorations[0].condition.includes(LogpointPrefix);\n        const isUnbound = !decorations[0].bound;\n        const isConditionalBreakpoint = Boolean(decorations[0].condition) && !isLogpoint;\n\n        this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint', true);\n        this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-disabled', isDisabled);\n        this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-unbound', isUnbound && !isDisabled);\n        this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-logpoint', isLogpoint);\n        this.textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-conditional', isConditionalBreakpoint);\n      }\n    }\n\n    function updateInlineDecorations(\n        this: DebuggerPlugin, editorLineNumber: number, decorations: BreakpointDecoration[]): void {\n      const actualBookmarks = new Set<TextEditor.CodeMirrorTextEditor.TextEditorBookMark>(\n          // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n          // @ts-expect-error\n          decorations.map(decoration => decoration.bookmark).filter(bookmark => Boolean(bookmark)));\n      const lineEnd = this.textEditor.line(editorLineNumber).length;\n      const bookmarks = this.textEditor.bookmarks(\n          new TextUtils.TextRange.TextRange(editorLineNumber, 0, editorLineNumber, lineEnd),\n          BreakpointDecoration.bookmarkSymbol);\n      for (const bookmark of bookmarks) {\n        if (!actualBookmarks.has(bookmark)) {\n          bookmark.clear();\n        }\n      }\n      if (!decorations.length) {\n        return;\n      }\n      if (decorations.length > 1) {\n        for (const decoration of decorations) {\n          decoration.update();\n          if (!this.muted) {\n            decoration.show();\n          } else {\n            decoration.hide();\n          }\n        }\n      } else {\n        decorations[0].update();\n        decorations[0].hide();\n      }\n    }\n  }\n\n  private breakpointDecorationsUpdatedForTest(): void {\n  }\n\n  private async inlineBreakpointClick(decoration: BreakpointDecoration, event: MouseEvent): Promise<void> {\n    event.consume(true);\n    if (decoration.breakpoint) {\n      if (event.shiftKey) {\n        decoration.breakpoint.setEnabled(!decoration.breakpoint.enabled());\n      } else {\n        decoration.breakpoint.remove(false);\n      }\n    } else {\n      const editorLocation = decoration.handle.resolve();\n      if (!editorLocation) {\n        return;\n      }\n      const location =\n          this.transformer.editorLocationToUILocation(editorLocation.lineNumber, editorLocation.columnNumber);\n      await this.setBreakpoint(location.lineNumber, location.columnNumber, decoration.condition, true);\n    }\n  }\n\n  private inlineBreakpointContextMenu(decoration: BreakpointDecoration, event: Event): void {\n    event.consume(true);\n    const editorLocation = decoration.handle.resolve();\n    if (!editorLocation) {\n      return;\n    }\n    if (this.textEditor.hasLineClass(editorLocation.lineNumber, 'cm-non-breakable-line')) {\n      return;\n    }\n    if (!Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().supportsConditionalBreakpoints(\n            this.uiSourceCode)) {\n      // Editing breakpoints only make sense for conditional breakpoints\n      // and logpoints.\n      return;\n    }\n    const location =\n        this.transformer.editorLocationToUILocation(editorLocation.lineNumber, editorLocation.columnNumber);\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    if (decoration.breakpoint) {\n      contextMenu.debugSection().appendItem(\n          i18nString(UIStrings.editBreakpoint),\n          this.editBreakpointCondition.bind(\n              this, editorLocation.lineNumber, decoration.breakpoint, null, false /* preferLogpoint */));\n    } else {\n      contextMenu.debugSection().appendItem(\n          i18nString(UIStrings.addConditionalBreakpoint),\n          this.editBreakpointCondition.bind(\n              this, editorLocation.lineNumber, null, editorLocation, false /* preferLogpoint */));\n      contextMenu.debugSection().appendItem(\n          i18nString(UIStrings.addLogpoint),\n          this.editBreakpointCondition.bind(\n              this, editorLocation.lineNumber, null, editorLocation, true /* preferLogpoint */));\n      contextMenu.debugSection().appendItem(\n          i18nString(UIStrings.neverPauseHere),\n          this.setBreakpoint.bind(this, location.lineNumber, location.columnNumber, 'false', true));\n    }\n    contextMenu.show();\n  }\n\n  private shouldIgnoreExternalBreakpointEvents(\n      event: Common.EventTarget.EventTargetEvent<Bindings.BreakpointManager.BreakpointLocation>): boolean {\n    const {uiLocation} = event.data;\n    if (uiLocation.uiSourceCode !== this.uiSourceCode) {\n      return true;\n    }\n    if (this.muted) {\n      return true;\n    }\n    for (const scriptFile of this.scriptFileForDebuggerModel.values()) {\n      if (scriptFile.isDivergingFromVM() || scriptFile.isMergingToVM()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private breakpointAdded(event: Common.EventTarget.EventTargetEvent<Bindings.BreakpointManager.BreakpointLocation>):\n      void {\n    if (this.shouldIgnoreExternalBreakpointEvents(event)) {\n      return;\n    }\n    const {breakpoint, uiLocation} = event.data;\n    this.addBreakpoint(uiLocation, breakpoint);\n  }\n\n  private addBreakpoint(\n      uiLocation: Workspace.UISourceCode.UILocation, breakpoint: Bindings.BreakpointManager.Breakpoint): void {\n    const editorLocation = this.transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n    const lineDecorations = this.lineBreakpointDecorations(uiLocation.lineNumber);\n    let decoration = this.breakpointDecoration(editorLocation.lineNumber, editorLocation.columnNumber);\n    if (decoration) {\n      decoration.breakpoint = breakpoint;\n      decoration.condition = breakpoint.condition();\n      decoration.enabled = breakpoint.enabled();\n    } else {\n      const handle = this.textEditor.textEditorPositionHandle(editorLocation.lineNumber, editorLocation.columnNumber);\n      decoration = new BreakpointDecoration(\n          this.textEditor, handle, breakpoint.condition(), breakpoint.enabled(),\n          breakpoint.bound() || !breakpoint.hasBoundScript(), breakpoint);\n      decoration.element.addEventListener('click', this.inlineBreakpointClick.bind(this, decoration), true);\n      decoration.element.addEventListener('contextmenu', this.inlineBreakpointContextMenu.bind(this, decoration), true);\n      this.breakpointDecorations.add(decoration);\n    }\n\n    let uiLocationsForBreakpoint = this.decorationByBreakpoint.get(breakpoint);\n    if (!uiLocationsForBreakpoint) {\n      uiLocationsForBreakpoint = new Map();\n      this.decorationByBreakpoint.set(breakpoint, uiLocationsForBreakpoint);\n    }\n    uiLocationsForBreakpoint.set(uiLocation.id(), decoration);\n\n    this.updateBreakpointDecoration(decoration);\n    if (breakpoint.enabled() && !lineDecorations.length) {\n      this.possibleBreakpointsRequested.add(editorLocation.lineNumber);\n      const start = this.transformer.editorLocationToUILocation(editorLocation.lineNumber, 0);\n      const end = this.transformer.editorLocationToUILocation(editorLocation.lineNumber + 1, 0);\n      this.breakpointManager\n          .possibleBreakpoints(\n              this.uiSourceCode,\n              new TextUtils.TextRange.TextRange(\n                  start.lineNumber, start.columnNumber || 0, end.lineNumber, end.columnNumber || 0))\n          .then(addInlineDecorations.bind(this, editorLocation.lineNumber));\n    }\n\n    function addInlineDecorations(\n        this: DebuggerPlugin, editorLineNumber: number, possibleLocations: Workspace.UISourceCode.UILocation[]): void {\n      this.possibleBreakpointsRequested.delete(editorLineNumber);\n      const decorations = this.lineBreakpointDecorations(editorLineNumber);\n      for (const decoration of decorations) {\n        this.updateBreakpointDecoration(decoration);\n      }\n      if (!decorations.some(decoration => Boolean(decoration.breakpoint))) {\n        return;\n      }\n      const columns = new Set<number>();\n      for (const decoration of decorations) {\n        const editorLocation = decoration.handle.resolve();\n        if (!editorLocation) {\n          continue;\n        }\n        columns.add(editorLocation.columnNumber);\n      }\n      // Only consider the first 100 inline breakpoints, as DevTools might appear to hang while CodeMirror is updating\n      // the inline breakpoints. See crbug.com/1060105.\n      for (const location of possibleLocations.slice(0, 100)) {\n        const editorLocation = this.transformer.uiLocationToEditorLocation(location.lineNumber, location.columnNumber);\n        if (editorLocation.lineNumber !== editorLineNumber) {\n          continue;\n        }\n        if (columns.has(editorLocation.columnNumber)) {\n          continue;\n        }\n        const handle = this.textEditor.textEditorPositionHandle(editorLocation.lineNumber, editorLocation.columnNumber);\n        const decoration = new BreakpointDecoration(\n            this.textEditor, handle, '', /** enabled */ false, /** bound */ false, /** breakpoint */ null);\n        decoration.element.addEventListener('click', this.inlineBreakpointClick.bind(this, decoration), true);\n        decoration.element.addEventListener(\n            'contextmenu', this.inlineBreakpointContextMenu.bind(this, decoration), true);\n        this.breakpointDecorations.add(decoration);\n        this.updateBreakpointDecoration(decoration);\n      }\n    }\n  }\n\n  private breakpointRemoved(event: Common.EventTarget.EventTargetEvent<Bindings.BreakpointManager.BreakpointLocation>):\n      void {\n    if (this.shouldIgnoreExternalBreakpointEvents(event)) {\n      return;\n    }\n    const {breakpoint, uiLocation} = event.data;\n\n    const uiLocationsForBreakpoint = this.decorationByBreakpoint.get(breakpoint);\n    if (!uiLocationsForBreakpoint) {\n      return;\n    }\n\n    const decoration = uiLocationsForBreakpoint.get(uiLocation.id());\n    uiLocationsForBreakpoint.delete(uiLocation.id());\n\n    if (uiLocationsForBreakpoint.size === 0) {\n      this.decorationByBreakpoint.delete(breakpoint);\n    }\n\n    if (!decoration) {\n      return;\n    }\n\n    const editorLocation = this.transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n    decoration.breakpoint = null;\n    decoration.enabled = false;\n\n    const lineDecorations = this.lineBreakpointDecorations(editorLocation.lineNumber);\n    if (!lineDecorations.some(decoration => Boolean(decoration.breakpoint))) {\n      for (const lineDecoration of lineDecorations) {\n        this.breakpointDecorations.delete(lineDecoration);\n        this.updateBreakpointDecoration(lineDecoration);\n      }\n    } else {\n      this.updateBreakpointDecoration(decoration);\n    }\n  }\n\n  private initializeBreakpoints(): void {\n    const breakpointLocations = this.breakpointManager.breakpointLocationsForUISourceCode(this.uiSourceCode);\n    for (const breakpointLocation of breakpointLocations) {\n      this.addBreakpoint(breakpointLocation.uiLocation, breakpointLocation.breakpoint);\n    }\n  }\n\n  private updateLinesWithoutMappingHighlight(): void {\n    if (Bindings.CompilerScriptMapping.CompilerScriptMapping.uiSourceCodeOrigin(this.uiSourceCode).length) {\n      const linesCount = this.textEditor.linesCount;\n      for (let i = 0; i < linesCount; ++i) {\n        const lineHasMapping =\n            Bindings.CompilerScriptMapping.CompilerScriptMapping.uiLineHasMapping(this.uiSourceCode, i);\n        if (!lineHasMapping) {\n          this.hasLineWithoutMapping = true;\n        }\n        if (this.hasLineWithoutMapping) {\n          this.textEditor.toggleLineClass(i, 'cm-non-breakable-line', !lineHasMapping);\n        }\n      }\n      return;\n    }\n\n    const {pluginManager} = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance();\n    if (pluginManager) {\n      pluginManager.getMappedLines(this.uiSourceCode)\n          .then(mappedLines => {\n            if (mappedLines === undefined) {\n              return;\n            }\n            const linesCount = this.textEditor.linesCount;\n            for (let i = 0; i < linesCount; ++i) {\n              const lineHasMapping = mappedLines.has(i);\n              if (!lineHasMapping) {\n                this.hasLineWithoutMapping = true;\n              }\n              if (this.hasLineWithoutMapping) {\n                this.textEditor.toggleLineClass(i, 'cm-non-breakable-line', !lineHasMapping);\n              }\n            }\n          })\n          .catch(console.error);\n    }\n  }\n\n  private updateScriptFiles(): void {\n    for (const debuggerModel of SDK.TargetManager.TargetManager.instance().models(SDK.DebuggerModel.DebuggerModel)) {\n      const scriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(\n          this.uiSourceCode, debuggerModel);\n      if (scriptFile) {\n        this.updateScriptFile(debuggerModel);\n      }\n    }\n  }\n\n  private updateScriptFile(debuggerModel: SDK.DebuggerModel.DebuggerModel): void {\n    const oldScriptFile = this.scriptFileForDebuggerModel.get(debuggerModel);\n    const newScriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(\n        this.uiSourceCode, debuggerModel);\n    this.scriptFileForDebuggerModel.delete(debuggerModel);\n    if (oldScriptFile) {\n      oldScriptFile.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidMergeToVM, this.didMergeToVM, this);\n      oldScriptFile.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidDivergeFromVM, this.didDivergeFromVM, this);\n      if (this.muted && !this.uiSourceCode.isDirty()) {\n        this.restoreBreakpointsIfConsistentScripts();\n      }\n    }\n    if (!newScriptFile) {\n      return;\n    }\n    this.scriptFileForDebuggerModel.set(debuggerModel, newScriptFile);\n    newScriptFile.addEventListener(\n        Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidMergeToVM, this.didMergeToVM, this);\n    newScriptFile.addEventListener(\n        Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidDivergeFromVM, this.didDivergeFromVM, this);\n    newScriptFile.checkMapping();\n    if (newScriptFile.hasSourceMapURL()) {\n      this.showSourceMapInfobar();\n    }\n  }\n\n  private showSourceMapInfobar(): void {\n    if (this.sourceMapInfobar) {\n      return;\n    }\n    this.sourceMapInfobar = UI.Infobar.Infobar.create(\n        UI.Infobar.Type.Info, i18nString(UIStrings.sourceMapDetected), [],\n        Common.Settings.Settings.instance().createSetting('sourceMapInfobarDisabled', false));\n    if (!this.sourceMapInfobar) {\n      return;\n    }\n    this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.associatedFilesShouldBeAdded));\n    this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.associatedFilesAreAvailable, {\n      PH1: String(UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutTitleForAction('quickOpen.show')),\n    }));\n    this.sourceMapInfobar.setCloseCallback(() => {\n      this.sourceMapInfobar = null;\n    });\n    this.textEditor.attachInfobar(this.sourceMapInfobar);\n  }\n\n  private async detectMinified(): Promise<void> {\n    const content = this.uiSourceCode.content();\n    if (!content || !TextUtils.TextUtils.isMinified(content)) {\n      return;\n    }\n\n    const editorActions = getRegisteredEditorActions();\n    let formatterCallback: (() => void)|null = null;\n    for (const editorAction of editorActions) {\n      if (editorAction instanceof ScriptFormatterEditorAction) {\n        // Check if the source code is formattable the same way the pretty print button does\n        if (!editorAction.isCurrentUISourceCodeFormattable()) {\n          return;\n        }\n        formatterCallback = editorAction.toggleFormatScriptSource.bind(editorAction);\n        break;\n      }\n    }\n\n    this.prettyPrintInfobar = UI.Infobar.Infobar.create(\n        UI.Infobar.Type.Info, i18nString(UIStrings.prettyprintThisMinifiedFile),\n        [{text: i18nString(UIStrings.prettyprint), delegate: formatterCallback, highlight: true, dismiss: true}],\n        Common.Settings.Settings.instance().createSetting('prettyPrintInfobarDisabled', false));\n    if (!this.prettyPrintInfobar) {\n      return;\n    }\n\n    this.prettyPrintInfobar.setCloseCallback(() => {\n      this.prettyPrintInfobar = null;\n    });\n    const toolbar = new UI.Toolbar.Toolbar('');\n    const button = new UI.Toolbar.ToolbarButton('', 'largeicon-pretty-print');\n    toolbar.appendToolbarItem(button);\n    toolbar.element.style.display = 'inline-block';\n    toolbar.element.style.verticalAlign = 'middle';\n    toolbar.element.style.marginBottom = '3px';\n    toolbar.element.style.pointerEvents = 'none';\n    toolbar.element.tabIndex = -1;\n    const element = this.prettyPrintInfobar.createDetailsRowMessage();\n    element.appendChild(\n        i18n.i18n.getFormatLocalizedString(str_, UIStrings.prettyprintingWillFormatThisFile, {PH1: toolbar.element}));\n    UI.ARIAUtils.markAsAlert(element);\n    this.textEditor.attachInfobar(this.prettyPrintInfobar);\n  }\n\n  private async handleGutterClick(\n      event: Common.EventTarget.EventTargetEvent<SourceFrame.SourcesTextEditor.GutterClickEventData>): Promise<void> {\n    if (this.muted) {\n      return;\n    }\n\n    const {gutterType, lineNumber: editorLineNumber, event: eventObject} = event.data;\n    if (gutterType !== SourceFrame.SourcesTextEditor.lineNumbersGutterType) {\n      return;\n    }\n\n    if (eventObject.button !== 0 || eventObject.altKey || eventObject.ctrlKey || eventObject.metaKey) {\n      return;\n    }\n\n    await this.toggleBreakpoint(editorLineNumber, eventObject.shiftKey);\n    eventObject.consume(true);\n  }\n\n  private async toggleBreakpoint(editorLineNumber: number, onlyDisable: boolean): Promise<void> {\n    const decorations = this.lineBreakpointDecorations(editorLineNumber);\n    if (!decorations.length) {\n      await this.createNewBreakpoint(editorLineNumber, '', true);\n      return;\n    }\n    const hasDisabled = this.textEditor.hasLineClass(editorLineNumber, 'cm-breakpoint-disabled');\n    const breakpoints =\n        (decorations.map(decoration => decoration.breakpoint).filter(breakpoint => Boolean(breakpoint)) as\n         Bindings.BreakpointManager.Breakpoint[]);\n    for (const breakpoint of breakpoints) {\n      if (onlyDisable) {\n        breakpoint.setEnabled(hasDisabled);\n      } else {\n        breakpoint.remove(false);\n      }\n    }\n  }\n\n  private async createNewBreakpoint(editorLineNumber: number, condition: string, enabled: boolean): Promise<void> {\n    if (this.textEditor.hasLineClass(editorLineNumber, 'cm-non-breakable-line')) {\n      return;\n    }\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.ScriptsBreakpointSet);\n    const origin = this.transformer.editorLocationToUILocation(editorLineNumber);\n    await this.setBreakpoint(origin.lineNumber, origin.columnNumber, condition, enabled);\n  }\n\n  private async setBreakpoint(lineNumber: number, columnNumber: number|undefined, condition: string, enabled: boolean):\n      Promise<void> {\n    Common.Settings.Settings.instance().moduleSetting('breakpointsActive').set(true);\n    await this.breakpointManager.setBreakpoint(this.uiSourceCode, lineNumber, columnNumber, condition, enabled);\n    this.breakpointWasSetForTest(lineNumber, columnNumber, condition, enabled);\n  }\n\n  private breakpointWasSetForTest(\n      _lineNumber: number, _columnNumber: number|undefined, _condition: string, _enabled: boolean): void {\n  }\n\n  private async callFrameChanged(): Promise<void> {\n    this.liveLocationPool.disposeAll();\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    if (!callFrame) {\n      this.clearExecutionLine();\n      return;\n    }\n    await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createCallFrameLiveLocation(\n        callFrame.location(), this.executionLineChanged.bind(this), this.liveLocationPool);\n  }\n\n  dispose(): void {\n    for (const decoration of this.breakpointDecorations) {\n      decoration.dispose();\n    }\n    this.breakpointDecorations.clear();\n    if (this.scheduledBreakpointDecorationUpdates) {\n      for (const decoration of this.scheduledBreakpointDecorationUpdates) {\n        decoration.dispose();\n      }\n      this.scheduledBreakpointDecorationUpdates.clear();\n    }\n\n    this.hideIgnoreListInfobar();\n    if (this.sourceMapInfobar) {\n      this.sourceMapInfobar.dispose();\n    }\n    if (this.prettyPrintInfobar) {\n      this.prettyPrintInfobar.dispose();\n    }\n    this.scriptsPanel.element.removeEventListener('scroll', this.boundPopoverHelperHide, true);\n    for (const script of this.scriptFileForDebuggerModel.values()) {\n      script.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidMergeToVM, this.didMergeToVM, this);\n      script.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidDivergeFromVM, this.didDivergeFromVM, this);\n    }\n    this.scriptFileForDebuggerModel.clear();\n\n    this.textEditor.element.removeEventListener('keydown', this.boundKeyDown, true);\n    this.textEditor.element.removeEventListener('keyup', this.boundKeyUp, true);\n    this.textEditor.element.removeEventListener('mousemove', this.boundMouseMove, false);\n    this.textEditor.element.removeEventListener('mousedown', this.boundMouseDown, true);\n    this.textEditor.element.removeEventListener('focusout', this.boundBlur, false);\n    this.textEditor.element.removeEventListener('wheel', this.boundWheel, true);\n\n    this.textEditor.removeEventListener(SourceFrame.SourcesTextEditor.Events.GutterClick, this.boundGutterClick, this);\n    this.popoverHelper.hidePopover();\n    this.popoverHelper.dispose();\n\n    this.breakpointManager.removeEventListener(\n        Bindings.BreakpointManager.Events.BreakpointAdded, this.breakpointAdded, this);\n    this.breakpointManager.removeEventListener(\n        Bindings.BreakpointManager.Events.BreakpointRemoved, this.breakpointRemoved, this);\n    this.uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this.workingCopyChanged, this);\n    this.uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this.workingCopyCommitted, this);\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipStackFramesPattern')\n        .removeChangeListener(this.showIgnoreListInfobarIfNeeded, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipContentScripts')\n        .removeChangeListener(this.showIgnoreListInfobarIfNeeded, this);\n    super.dispose();\n\n    this.clearExecutionLine();\n    UI.Context.Context.instance().removeFlavorChangeListener(SDK.DebuggerModel.CallFrame, this.callFrameChanged, this);\n    this.liveLocationPool.disposeAll();\n  }\n}\n\nexport class BreakpointDecoration {\n  private textEditor: SourceFrame.SourcesTextEditor.SourcesTextEditor;\n  handle: TextEditor.CodeMirrorTextEditor.TextEditorPositionHandle;\n  condition: string;\n  enabled: boolean;\n  bound: boolean;\n  breakpoint: Bindings.BreakpointManager.Breakpoint|null;\n  element: HTMLSpanElement;\n  bookmark: TextEditor.CodeMirrorTextEditor.TextEditorBookMark|null;\n  constructor(\n      textEditor: SourceFrame.SourcesTextEditor.SourcesTextEditor,\n      handle: TextEditor.CodeMirrorTextEditor.TextEditorPositionHandle, condition: string, enabled: boolean,\n      bound: boolean, breakpoint: Bindings.BreakpointManager.Breakpoint|null) {\n    this.textEditor = textEditor;\n    this.handle = handle;\n    this.condition = condition;\n    this.enabled = enabled;\n    this.bound = bound;\n    this.breakpoint = breakpoint;\n    this.element = document.createElement('span');\n    this.element.classList.toggle('cm-inline-breakpoint', true);\n\n    this.bookmark = null;\n  }\n\n  static mostSpecificFirst(decoration1: BreakpointDecoration, decoration2: BreakpointDecoration): number {\n    if (decoration1.enabled !== decoration2.enabled) {\n      return decoration1.enabled ? -1 : 1;\n    }\n    if (decoration1.bound !== decoration2.bound) {\n      return decoration1.bound ? -1 : 1;\n    }\n    if (Boolean(decoration1.condition) !== Boolean(decoration2.condition)) {\n      return Boolean(decoration1.condition) ? -1 : 1;\n    }\n    return 0;\n  }\n\n  update(): void {\n    const isLogpoint = Boolean(this.condition) && this.condition.includes(LogpointPrefix);\n    const isConditionalBreakpoint = Boolean(this.condition) && !isLogpoint;\n    this.element.classList.toggle('cm-inline-logpoint', isLogpoint);\n    this.element.classList.toggle('cm-inline-breakpoint-conditional', isConditionalBreakpoint);\n    this.element.classList.toggle('cm-inline-disabled', !this.enabled);\n  }\n\n  show(): void {\n    if (this.bookmark) {\n      return;\n    }\n    const editorLocation = this.handle.resolve();\n    if (!editorLocation) {\n      return;\n    }\n    this.bookmark = this.textEditor.addBookmark(\n        editorLocation.lineNumber, editorLocation.columnNumber, this.element, BreakpointDecoration.bookmarkSymbol);\n    // @ts-ignore Only used for layout tests\n    this.bookmark[BreakpointDecoration.elementSymbolForTest] = this.element;\n  }\n\n  hide(): void {\n    if (!this.bookmark) {\n      return;\n    }\n    this.bookmark.clear();\n    this.bookmark = null;\n  }\n\n  dispose(): void {\n    const location = this.handle.resolve();\n    if (location) {\n      this.textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint', false);\n      this.textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-disabled', false);\n      this.textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-unbound', false);\n      this.textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-conditional', false);\n      this.textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-logpoint', false);\n    }\n    this.hide();\n  }\n\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  static readonly bookmarkSymbol = Symbol('bookmark');\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  private static readonly elementSymbolForTest = Symbol('element');\n}\n\nexport const continueToLocationDecorationSymbol = Symbol('bookmark');\n"]}