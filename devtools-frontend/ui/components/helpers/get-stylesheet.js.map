{"version":3,"file":"get-stylesheet.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/helpers/get-stylesheet.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AAEnD,MAAM,WAAW,GAAG,IAAI,GAAG,EAAqC,CAAC;AAEjE;;;;;GAKG;AACH,MAAM,UAAU,oBAAoB,CAAC,IAAY;IAC/C,MAAM,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,YAAY,EAAE;QAChB,OAAO,YAAY,CAAC,MAAM,CAAC;KAC5B;IAED,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAC7D,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,IAAI,KAAK,CAAC,GAAG,IAAI,iBAAiB,CAAC,CAAC;KAC3C;IACD,MAAM,kBAAkB,GAAG,IAAI,aAAa,EAAE,CAAC;IAC/C,kBAAkB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACxC,WAAW,CAAC,GAAG,CAAC,IAAI,EAAE,EAAC,MAAM,EAAE,CAAC,kBAAkB,CAAC,EAAC,CAAC,CAAC;IACtD,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAC9B,CAAC;AAED;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,kCAAkC,GAAG;IAChD,+BAA+B;IAC/B,0BAA0B;IAC1B,2BAA2B;IAC3B,wCAAwC;IACxC,iCAAiC;IACjC,qDAAqD;IACrD,0BAA0B;IAC1B,yBAAyB;IACzB,0BAA0B;IAC1B,2BAA2B;IAC3B,+BAA+B;IAC/B,2BAA2B;IAC3B,gDAAgD;IAChD,8BAA8B;IAC9B,uBAAuB;CACxB,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Root from '../../../core/root/root.js';\n\nconst sheetsCache = new Map<string, {sheets: CSSStyleSheet[]}>();\n\n/**\n * Helper for importing a legacy stylesheet into a component.\n *\n * Given a path to a stylesheet, it returns a CSSStyleSheet that can then be\n * adopted by your component.\n */\nexport function legacyGetStyleSheets(path: string): CSSStyleSheet[] {\n  const cachedResult = sheetsCache.get(path);\n  if (cachedResult) {\n    return cachedResult.sheets;\n  }\n\n  const content = Root.Runtime.cachedResources.get(path) || '';\n  if (!content) {\n    throw new Error(`${path} not preloaded.`);\n  }\n  const originalStylesheet = new CSSStyleSheet();\n  originalStylesheet.replaceSync(content);\n  sheetsCache.set(path, {sheets: [originalStylesheet]});\n  return [originalStylesheet];\n}\n\n/*\n * This is now legacy. Please do not add any more CSS Files to this list. Refer to\n * https://crbug.com/1106746 for the new way of implementing CSS in DevTools.\n *\n * The legacyGetStylesheet helper in components reads styles out of the runtime cache.\n * In a proper build this is populated but in test runs because we don't load\n * all of DevTools it's not. Therefore we fetch the required CSS files and populate\n * the cache before any tests are run.\n *\n * The out/Release/gen/front_end URL is prepended so within the Karma config we can proxy\n * them through to the right place, respecting Karma's ROOT_DIRECTORY setting.\n */\nexport const CSS_RESOURCES_TO_LOAD_INTO_RUNTIME = [\n  'ui/legacy/inspectorCommon.css',\n  'ui/legacy/textButton.css',\n  'ui/legacy/themeColors.css',\n  'ui/legacy/inspectorSyntaxHighlight.css',\n  'ui/legacy/progressIndicator.css',\n  'panels/application/serviceWorkerUpdateCycleView.css',\n  'ui/legacy/tabbedPane.css',\n  'ui/legacy/glassPane.css',\n  'ui/legacy/suggestBox.css',\n  'ui/legacy/treeoutline.css',\n  'ui/legacy/softContextMenu.css',\n  'ui/legacy/splitWidget.css',\n  'ui/legacy/components/source_frame/jsonView.css',\n  'ui/legacy/searchableView.css',\n  'ui/legacy/toolbar.css',\n];\n"]}